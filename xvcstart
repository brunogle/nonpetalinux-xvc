#!/bin/bash

# Path to the server executable
SERVER_PATH="/opt/xvc/xvcServer"

# PID file to store the background process ID
PID_FILE="xvcServer.pid"

# Start the server if not already running
if [ -f "$PID_FILE" ] && kill -0 $(cat "$PID_FILE") 2>/dev/null; then
    echo "xvcServer is already running (PID $(cat "$PID_FILE"))."
    exit 1
fi

# Start in background and save PID
$SERVER_PATH  > /dev/null 2>&1 &
echo $! > "$PID_FILE"
echo "xvcServer started with PID $(cat "$PID_FILE")."

